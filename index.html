<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Baby Shower de Aitana</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

<style>
/* ============ Base ============ */
:root{
  --pink:#ff69b4;
  --lav:#b47ae0;
  --gold:#ffe8ae;
  --ink:#232333;
  --card:#ffffffe6;
  --card-dark:#2c2c36d9;
}
*{box-sizing:border-box}
body{
  font-family:'Montserrat',sans-serif;
  margin:0; overflow-x:hidden;
  color:#111;
  background:linear-gradient(270deg,#fde8f3,#e6d0fa,#ffe8ae);
  background-size:600% 600%;
  animation:gradientMove 20s ease infinite;
  transition:background 1s,color 1s;
}
@keyframes gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
body.dark{ color:#f6f6f6; background:linear-gradient(270deg,#232333,#2c2c36,#47386e) }

/* Fondos premium (blobs + líneas) */
.bg-stage{position:fixed; inset:0; z-index:-2; overflow:hidden; pointer-events:none;}
.blobs{position:absolute; inset:-20% -10% -10% -10%; filter: blur(40px) saturate(120%)}
.blob{
  position:absolute; width:48vmax; height:48vmax; border-radius:50%;
  background: radial-gradient( circle at 30% 30%, #ffb6e6, transparent 60%),
              radial-gradient( circle at 70% 60%, #b795fc, transparent 60%),
              radial-gradient( circle at 50% 50%, #ffe8ae, transparent 65%);
  opacity:.35; mix-blend-mode: screen; animation:blobDrift 28s ease-in-out infinite;
}
.blob.b2{ left:55%; top:10%; animation-delay:-8s; transform:scale(.8); opacity:.28}
.blob.b3{ left:-10%; top:45%; animation-delay:-14s; transform:scale(1.1); opacity:.3}
@keyframes blobDrift{
  0%{transform:translate3d(0,0,0) scale(1)}
  50%{transform:translate3d(4%, -3%, 0) scale(1.08)}
  100%{transform:translate3d(0,0,0) scale(1)}
}

/* Líneas suaves SVG */
.lines{position:absolute; inset:0; z-index:-1; opacity:.45}
body.dark .lines{ opacity:.6 }
.lines svg{ width:140%; height:140%; position:absolute; left:-20%; top:-20% }
.stroke1{ stroke:url(#grad1); stroke-width:1.2; fill:none; stroke-linecap:round; opacity:.7; animation:dash 22s linear infinite}
.stroke2{ stroke:url(#grad2); stroke-width:1.2; fill:none; stroke-linecap:round; opacity:.55; animation:dash 28s linear infinite reverse}
@keyframes dash{ from{ stroke-dasharray:3 320; stroke-dashoffset:0 } to{ stroke-dasharray:3 320; stroke-dashoffset:-320 } }

/* Loader */
#loader{
  position:fixed; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center;
  background:linear-gradient(135deg,#ffe8f3,#e6d0fa,#ffe8ae); z-index:9999; animation:gradientMove 8s infinite alternate;
}
.loader-note{ font-size:2.2rem; animation:float 1.5s ease-in-out infinite }
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}

/* Secciones y títulos */
section{
  max-width:700px; margin:40px auto; padding:20px; text-align:center; position:relative; z-index:2;
  background:var(--card); border-radius:26px; box-shadow:0 4px 30px rgba(183,149,252,.22); backdrop-filter: blur(14px);
  opacity:0; transform:translateY(40px); transition:all 1s ease;
}
body.dark section{ background:var(--card-dark); color:#eee; box-shadow:0 4px 30px #2c2c36 }
section.visible{opacity:1; transform:translateY(0)}
section.fade-in{ opacity:1; animation: fadeIn 2.2s cubic-bezier(.5,.1,.25,1.2) both }
@keyframes fadeIn{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}

.main-title,.sub-title{
  font-family:'Dancing Script',cursive;
  background:linear-gradient(90deg,var(--pink),#ffb6e6,var(--lav));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  animation: rainbowGlow 3s linear infinite, bounceSlow 4s ease-in-out infinite;
}
body.dark .main-title,body.dark .sub-title{
  background:linear-gradient(90deg,var(--gold),#b795fc,#ffb6e6);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}
.main-title{ font-size:3rem; margin-bottom:10px; position:relative; z-index:2 }
.sub-title{ font-size:3.2rem; font-weight:700; animation: rainbowGlow 3s linear infinite, bounceSlow 4s ease-in-out infinite, hueRotate 6s infinite linear }
@keyframes rainbowGlow{0%{text-shadow:0 0 6px var(--pink)}50%{text-shadow:0 0 14px var(--lav)}100%{text-shadow:0 0 6px var(--pink)}}
@keyframes bounceSlow{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
@keyframes hueRotate{0%{filter:hue-rotate(0)}100%{filter:hue-rotate(360deg)}}

.halo-title{
  position:absolute; left:50%; top:0; transform:translateX(-50%);
  width:340px; height:90px; background:radial-gradient(circle,#ffe8ae88 0%,transparent 80%);
  z-index:1; filter:blur(16px); pointer-events:none;
}

/* “La futura Mamá, Fer” */
.future-mom-title{
  font-family:'Dancing Script',cursive; font-size:2.2rem; font-weight:700; margin:28px 0 22px;
  background:linear-gradient(90deg,var(--pink),#ffb6e6,var(--lav));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  text-shadow:0 0 10px rgba(180,122,224,.25);
  animation:futureGlow 3.2s ease-in-out infinite alternate;
}
body.dark .future-mom-title{
  background:linear-gradient(90deg,var(--gold),#b795fc,#ffb6e6);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}
@keyframes futureGlow{0%{filter:drop-shadow(0 0 0 rgba(180,122,224,0))}100%{filter:drop-shadow(0 0 6px rgba(180,122,224,.35))}}

.baby-photo{ width:100%; max-width:600px; border-radius:12px; margin:20px auto; display:block;
  animation: zoomGlow 3s ease-in-out infinite alternate; box-shadow:0 0 15px rgba(255,182,230,.3) }
@keyframes zoomGlow{0%{transform:scale(1);box-shadow:0 0 15px rgba(255,182,230,.3)}100%{transform:scale(1.05);box-shadow:0 0 45px rgba(183,149,252,.5)}}

/* Botones flotantes */
.floating-controls{ position:fixed; right:24px; bottom:24px; display:flex; flex-direction:column; gap:22px; z-index:500 }
.floating-controls .fc-btn{
  width:68px; height:68px; border-radius:50%; background:#fff; border:2px solid #000; color:#000;
  display:flex; align-items:center; justify-content:center; font-size:2.55rem; font-weight:700;
  box-shadow:0 2px 22px #b47ae033; cursor:pointer; transition:transform .16s;
}
.floating-controls .fc-btn:hover{ transform:scale(1.13) }
@media(max-width:700px){ .floating-controls{ right:8px; bottom:8px } .floating-controls .fc-btn{ width:54px;height:54px;font-size:2rem } }

/* Módulo de tips */
.floating-info-module{
  max-width:510px; margin:42px auto 28px; padding:28px 20px 24px; text-align:center; position:relative; z-index:5;
  background:rgba(255,255,255,.9); border-radius:22px; box-shadow:0 6px 24px #b47ae055; backdrop-filter:blur(6px); font-size:1rem
}
body.dark .floating-info-module{ background:rgba(44,44,54,.87); color:var(--gold); box-shadow:0 6px 24px #23233377 }
.floating-info-title{ font-family:'Dancing Script',cursive; font-size:1.5rem; font-weight:700; margin-bottom:14px;
  background:linear-gradient(90deg,var(--pink),#ffb6e6,var(--lav)); -webkit-background-clip:text; -webkit-text-fill-color:transparent }
body.dark .floating-info-title{ background:linear-gradient(90deg,var(--gold),#b795fc,#ffb6e6); -webkit-background-clip:text; -webkit-text-fill-color:transparent }
.floating-info-list{ list-style:none; padding:0; margin:0 0 8px; display:inline-block; text-align:center }
.floating-info-list li{ display:flex; gap:12px; justify-content:center; align-items:center; margin-bottom:11px }
.floating-info-note{ font-weight:700; color:var(--lav) }
body.dark .floating-info-note{ color:var(--gold) }

/* Grid de 3 canciones */
.music-grid{ display:grid; grid-template-columns:1fr; gap:14px; margin-top:12px }
@media(min-width:560px){ .music-grid{ grid-template-columns:repeat(3,1fr) } }
.track-card{ background:rgba(255,255,255,.9); border-radius:16px; padding:14px; box-shadow:0 4px 16px rgba(180,122,224,.18);
  display:flex; flex-direction:column; align-items:center; gap:10px }
body.dark .track-card{ background:rgba(44,44,54,.85) }
.track-btn{
  width:64px; height:64px; border-radius:50%; border:2px solid var(--lav); background:#fff;
  font-size:1.35rem; font-weight:800; cursor:pointer; box-shadow:0 3px 12px rgba(0,0,0,.2);
  transition:transform .15s, box-shadow .15s, background .15s, color .15s;
}
.track-btn.active{ outline:4px solid var(--gold); transform:translateY(-1px) }
.track-title{ font-weight:700 }
.track-hint{ font-size:.85rem; opacity:.8 }

/* Player inferior (Volumen B) */
.player{
  position:sticky; bottom:12px; margin:0 auto; max-width:700px; z-index:4;
  padding:12px 14px; border-radius:16px; background:rgba(255,255,255,.92); backdrop-filter:blur(8px);
  box-shadow:0 8px 28px rgba(35,35,51,.18);
}
body.dark .player{ background:rgba(35,35,51,.86) }
.player-row{ display:grid; grid-template-columns:auto 1fr auto; gap:12px; align-items:center }
.player-title{ font-size:.95rem; font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.player-time{ font-variant-numeric:tabular-nums; font-size:.85rem; opacity:.85; white-space:nowrap }
.progress{ position:relative; height:8px; background:linear-gradient(90deg,#ddd,#eee); border-radius:999px; overflow:hidden; cursor:pointer }
body.dark .progress{ background:linear-gradient(90deg,#3a3a52,#4a4964) }
.progress-fill{ position:absolute; inset:0 auto 0 0; width:0%; background:linear-gradient(90deg,#ffb6e6,var(--lav)); border-radius:999px }
.knob{ position:absolute; top:50%; transform:translate(-50%,-50%); width:16px; height:16px; border-radius:50%; background:#fff; border:2px solid var(--lav); box-shadow:0 2px 6px rgba(0,0,0,.2) }

.controls{ display:flex; align-items:center; gap:10px }
.icon-btn{
  width:36px; height:36px; border-radius:50%; border:1.5px solid var(--lav); background:#fff; color:#000; font-size:16px;
  display:flex; align-items:center; justify-content:center; cursor:pointer;
}
body.dark .icon-btn{ background:#232333; color:#fff; border-color:#b795fc }
.volume-wrap{ display:flex; align-items:center; gap:10px; min-width:150px }
.vbar{ position:relative; height:6px; flex:1; border-radius:999px; background:linear-gradient(90deg,#ddd,#eee); cursor:pointer }
body.dark .vbar{ background:linear-gradient(90deg,#3a3a52,#4a4964) }
.vfill{ position:absolute; inset:0 auto 0 0; width:60%; background:linear-gradient(90deg,var(--gold),var(--lav)); border-radius:999px }
.vknob{ position:absolute; top:50%; transform:translate(-50%,-50%); width:14px; height:14px; border-radius:50%; background:#fff; border:2px solid var(--lav) }

/* Otros */
.qr-container{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:12px;margin-bottom:14px}
.qr-container img{width:90px;height:90px;border-radius:12px;box-shadow:0 2px 14px #b47ae033}
.scroll-indicator{margin-top:15px;font-size:1.2rem;color:var(--pink);font-weight:700;animation:blink 1.5s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.4}}
.scroll-arrow{display:block;font-size:2rem;color:var(--pink);animation:bounceArrow 1.4s infinite}
@keyframes bounceArrow{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.equalizer{display:none}
.typewriter{font-size:1.5rem;font-weight:700;color:var(--lav);border-right:.15em solid var(--lav);white-space:nowrap;overflow:hidden;width:0;animation:type 4s steps(40,end) forwards,blinkCursor .75s step-end infinite}
@keyframes type{to{width:100%}} @keyframes blinkCursor{50%{border-color:transparent}}
@media(max-width:700px){
  section{padding:10px}
  .main-title{font-size:2.1rem}
  .sub-title{font-size:2rem}
  .baby-photo{ max-width:95vw }
}
</style>
</head>
<body>

<!-- Fondos premium -->
<div class="bg-stage" aria-hidden="true">
  <div class="blobs">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
  </div>
  <div class="lines">
    <svg viewBox="0 0 1200 800" preserveAspectRatio="none">
      <defs>
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="#ffb6e6"/><stop offset="50%" stop-color="#ffe8ae"/><stop offset="100%" stop-color="#b795fc"/>
        </linearGradient>
        <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="#ffe8ae"/><stop offset="50%" stop-color="#b795fc"/><stop offset="100%" stop-color="#ffb6e6"/>
        </linearGradient>
      </defs>
      <path class="stroke1" d="M-50,200 C150,120 250,320 450,240 C650,160 750,360 950,280 C1150,200 1250,380 1350,300" />
      <path class="stroke2" d="M-50,520 C120,600 300,480 520,560 C740,640 880,500 1080,560 C1280,620 1350,520 1400,600" />
    </svg>
  </div>
</div>

<!-- Botones flotantes -->
<div class="floating-controls">
  <button class="fc-btn" id="theme-btn" title="Modo oscuro/claro">🌙</button>
  <button class="fc-btn" id="lang-btn" title="Idioma">🇲🇽</button>
  <button class="fc-btn" id="music-btn" title="Música">🎵</button>
</div>

<!-- Tips -->
<div class="floating-info-module">
  <div class="floating-info-title">👋 Personaliza la invitación</div>
  <ul class="floating-info-list">
    <li><span class="icon">🌙</span> Cambia el modo de luz, por si prefieres la invitación clarita o oscura.</li>
    <li><span class="icon">🇲🇽</span><span class="icon">🇺🇸</span> Elige tu idioma favorito: español o inglés.</li>
    <li><span class="icon">🎵</span> Ponle música de fondo para ambientar el momento.</li>
  </ul>
  <div class="floating-info-note">¡Haz clic en los botones de abajo a la izquierda y disfruta la experiencia como tú quieras!</div>
</div>

<!-- Loader -->
<div id="loader">
  <p id="loaderText" style="font-size:1.5rem;font-weight:bold;color:#b47ae0;">Cargando invitación...</p>
  <div class="loader-note">🎵 🎶 🎵</div>
</div>

<div class="equalizer" id="equalizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>

<main id="main-content" style="display:none;">
  <section class="fade-in">
    <div class="qr-container">
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=https://dannzanetti.github.io/invitacion-aitana/" alt="QR Invitación"/>
      <a id="qrBtn" class="btn-3d" target="_blank" style="font-size:1rem;width:auto;padding:8px 14px;display:inline-block;margin-top:4px;"
         href="https://api.whatsapp.com/send?text=¡Te%20invito%20al%20Baby%20Shower%20de%20Aitana!%20https://dannzanetti.github.io/invitacion-aitana/">💬 Compartir por WhatsApp</a>
    </div>

    <!-- Música -->
    <p id="listenMusic" style="margin-bottom:10px;">🎵 Haz clic en un botón para escuchar música 🎶</p>

    <div class="music-grid" id="musicGrid">
      <div class="track-card">
        <button class="track-btn" data-src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/jump.mp3" data-key="jump" title="🎵 Toca para reproducir / pausar">①</button>
        <div class="track-title" id="song-jump">The Outfield — All The Love In The World</div>
        <div class="track-hint" id="hint-jump">🎵 Toca para reproducir / pausar</div>
      </div>
      <div class="track-card">
        <button class="track-btn" data-src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/coldplay.mp3" data-key="coldplay" title="🎵 Toca para reproducir / pausar">②</button>
        <div class="track-title" id="song-coldplay">Coldplay — A Sky Full Of Stars</div>
        <div class="track-hint" id="hint-coldplay">🎵 Toca para reproducir / pausar</div>
      </div>
      <div class="track-card">
        <button class="track-btn" data-src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/bruno.mp3" data-key="bruno" title="🎵 Toca para reproducir / pausar">③</button>
        <div class="track-title" id="song-bruno">ROSÉ & Bruno Mars — APT.</div>
        <div class="track-hint" id="hint-bruno">🎵 Toca para reproducir / pausar</div>
      </div>
    </div>

    <!-- Player Volumen B -->
    <div class="player" id="player">
      <div class="player-row" style="margin-bottom:8px;">
        <button class="icon-btn" id="playPause" title="Play/Pause">▶️</button>
        <div class="player-title" id="nowTitle">—</div>
        <div class="player-time"><span id="curTime">0:00</span> / <span id="durTime">0:00</span></div>
      </div>
      <div class="player-row">
        <div class="progress" id="progress">
          <div class="progress-fill" id="progressFill"></div>
          <div class="knob" id="progressKnob" style="left:0%"></div>
        </div>
        <div class="controls">
          <button class="icon-btn" id="muteBtn" title="Mute/Unmute">🔊</button>
          <div class="volume-wrap" title="Volumen">
            <div class="vbar" id="vbar">
              <div class="vfill" id="vfill"></div>
              <div class="vknob" id="vknob" style="left:60%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>

  <!-- Títulos e imagen principal -->
  <section class="fade-in" style="position:relative;">
    <div class="halo-title"></div>
    <h1 class="main-title">🎀 Baby Shower 🎀</h1>
    <h2 class="sub-title">🎀 AITANA 🎀</h2>
    <img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/Baby.png" alt="Baby" class="baby-photo"/>
    <p id="futureMom" class="future-mom-title">La futura Mamá, Fer</p>
    <img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/0.JPG" alt="La futura Mamá, Fer" class="baby-photo" style="margin-top:12px;max-width:480px;">
  </section>

  <!-- Countdown -->
  <section class="fade-in">
    <div id="countdown">🎈 ¡Faltan X días para el gran día! 🎈</div>
    <div id="timer">00d : 00h : 00m : 00s</div>
  </section>

  <!-- Info -->
  <section class="info-block fade-in">
    <p id="infoDate">📅 <strong>Sábado 20 de Septiembre</strong></p>
    <p id="infoTime">⏰ <strong>2:00 PM – 11:00 PM</strong></p>
    <p id="infoPlace">🏘️ <strong>Residencial Sendero Santa Fe</strong></p>
    <p id="infoRSVP">⚠️ <strong>Confirma antes del 14 de septiembre</strong></p>
  </section>

  <!-- “Te esperamos con” -->
  <section class="fade-in">
    <div class="highlight-container" id="partyTitle" style="font-size:1.8rem;font-weight:700;color:#ff69b4;margin-bottom:20px;animation:shimmer 3s infinite linear">¡Te esperamos con!</div>
    <div style="margin-top:20px;">
      <p id="food">🌮 Tacos de guisado</p>
      <p id="bar">🍸 Barra libre:</p>
      <p id="drinks">🍻 Cervezas | 🍹 Tequila | 🥃 Ron | 🥂 Whisky</p>
      <p id="fun">🎲 Juegos | 🎖️ Rifas | 💃 Baile</p>
    </div>
  </section>

  <!-- Botones -->
  <section class="fade-in">
    <div class="btn-container" style="display:flex;flex-direction:column;gap:18px;margin-top:25px;">
      <a href="https://waze.com/ul/h9g3qhubmq" target="_blank" class="btn-3d" id="waze">📍 Cómo llegar con Waze</a>
      <a href="https://maps.app.goo.gl/aJot9z4Qja81DHsw8?g_st=aw" target="_blank" class="btn-3d" id="gmaps">📍 Cómo llegar con Google Maps</a>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSd-vY-AAhe7GGVQdxJmZvxr-5m6rQh7PgrfKwXY0Dn1-ksgRw/viewform" target="_blank" class="btn-3d confirmar" id="confirmar-btn">✅ Confirmar asistencia</a>
      <a href="https://mesaderegalos.liverpool.com.mx/milistaderegalos/51734815" target="_blank" class="btn-3d" id="liverpool">🎁 Mesa de regalos Liverpool</a>
      <a href="https://www.amazon.com.mx/baby-reg/waldodanielalvarez-martinez-diciembre-2025-ciudaddemexico/187ABTMWV8E8D" target="_blank" class="btn-3d" id="amazon">📦 Mesa de regalos Amazon</a>
    </div>
  </section>

  <!-- Calendarios + Galería -->
  <section class="fade-in">
    <div style="display:flex;justify-content:space-between;gap:10px;">
      <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Baby+Shower+Aitana&dates=20250920T200000Z/20250921T050000Z&details=Baby+Shower+de+Aitana&location=Residencial+Sendero+Santa+Fe" target="_blank" class="btn-3d" id="calendarG" style="width:48%;">📅 Google Calendar</a>
      <a href="https://dannzanetti.github.io/invitacion-aitana/babyshower.ics" class="btn-3d" id="calendarA" style="width:48%;">🍎 Apple Calendar</a>
    </div>

    <section class="fade-in">
      <h2 id="genderRevealTitle" class="section-title" style="font-family:'Montserrat',sans-serif;font-weight:800;font-size:2rem;margin:22px 0 18px;color:#b47ae0;letter-spacing:.3px;text-align:center">¡Así vivimos el Gender Reveal! 🎉💗</h2>

      <style>
        .slider-container{position:relative;max-width:720px;margin:0 auto;overflow:hidden;border-radius:14px;box-shadow:0 6px 20px rgba(180,122,224,.2)}
        .slider{display:flex;transition:transform .5s ease-in-out}
        .slide{min-width:100%;box-sizing:border-box}
        .slide img{width:100%;display:block;border-radius:12px}
        .prev,.next{position:absolute;top:50%;transform:translateY(-50%);background:#ffffffcc;color:#b47ae0;font-weight:700;font-size:2rem;border:none;cursor:pointer;padding:8px 14px;border-radius:50%;box-shadow:0 2px 8px rgba(0,0,0,.2);z-index:10}
        .prev:hover,.next:hover{background:#ffe8ae}
        .prev{left:10px}.next{right:10px}
        .dots{text-align:center;margin-top:12px}
        .dots span{height:12px;width:12px;margin:0 4px;background:#ddd;border-radius:50%;display:inline-block;cursor:pointer;transition:background-color .3s}
        .dots .active{background:#b47ae0}
      </style>

      <div class="slider-container">
        <div class="slider" id="photoSlider">
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/1.JPG" alt="Foto 1"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/2.JPG" alt="Foto 2"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/3.JPG" alt="Foto 3"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/4.JPG" alt="Foto 4"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/5.JPG" alt="Foto 5"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/6.JPG" alt="Foto 6"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/7.JPG" alt="Foto 7"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/8.JPG" alt="Foto 8"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/9.JPG" alt="Foto 9"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/10.JPG" alt="Foto 10"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/11.JPG" alt="Foto 11"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/12.JPG" alt="Foto 12"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/13.JPG" alt="Foto 13"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/14.JPG" alt="Foto 14"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/15.JPG" alt="Foto 15"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/16.JPG" alt="Foto 16"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/17.JPG" alt="Foto 17"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/18.JPG" alt="Foto 18"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/19.JPG" alt="Foto 19"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/20.JPG" alt="Foto 20"></div>
          <div class="slide"><img src="https://raw.githubusercontent.com/dannzanetti/invitacion-aitana/main/21.JPG" alt="Foto 21"></div>
        </div>
        <button class="prev" onclick="prevSlide()">❮</button>
        <button class="next" onclick="nextSlide()">❯</button>
        <div class="dots" id="dotsContainer"></div>
      </div>

      <script>
        (function(){
          const slides = document.querySelectorAll('.slide');
          const slider = document.getElementById('photoSlider');
          const dotsContainer = document.getElementById('dotsContainer');
          if(!slides.length || !slider || !dotsContainer) return; // evita errores

          let currentIndex=0;
          slides.forEach((_,i)=>{ const d=document.createElement('span'); d.onclick=()=>goToSlide(i); dotsContainer.appendChild(d); });
          const dots = dotsContainer.querySelectorAll('span');

          function updateSlider(){
            slider.style.transform = `translateX(-${currentIndex*100}%)`;
            dots.forEach(d=>d.classList.remove('active'));
            if(dots[currentIndex]) dots[currentIndex].classList.add('active');
          }
          window.nextSlide = function(){ currentIndex=(currentIndex+1)%slides.length; updateSlider(); }
          window.prevSlide = function(){ currentIndex=(currentIndex-1+slides.length)%slides.length; updateSlider(); }
          window.goToSlide = function(i){ currentIndex=i; updateSlider(); }

          updateSlider();
          setInterval(window.nextSlide, 4000);
        })();
      </script>
    </section>
  </section>

  <!-- Despedida -->
  <section class="fade-in">
    <p class="typewriter">💕 ¡Gracias por acompañarnos! 💕</p>
    <div class="gif-container" style="display:flex;justify-content:center;align-items:center;margin-top:30px;position:relative;">
      <img id="finalGif" src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExeWV0NDMza3c2eXVsM2VrMnNhdHcyMG0yN2Z5YzN5aWV2bHJpdjk1OSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/QMkPpxPDYY0fu/giphy.gif" alt="GIF Final" style="width:180px">
    </div>
    <p id="gifFinal" style="margin-top:20px;font-size:1.4rem;color:#b47ae0;font-weight:bold;">✨ ¡Será un día mágico para celebrar juntos! ✨</p>
  </section>
</main>

<script>
/* ===== Traducciones ===== */
const translations={
  es:{mainTitle:'🎀 Baby Shower 🎀',subTitle:'🎀 AITANA 🎀',qrBtn:'💬 Compartir por WhatsApp',
      listenMusic:'🎵 Haz clic en un botón para escuchar música 🎶',scroll:'¡Sigue bajando para ver todos los detalles!',
      countdown:'🎈 ¡Faltan X días para el gran día! 🎈',today:'🎉 ¡Hoy es el gran día! 🎉',timer:'00d : 00h : 00s',
      infoDate:'📅 <strong>Sábado 20 de Septiembre</strong>',infoTime:'⏰ <strong>2:00 PM – 11:00 PM</strong>',
      infoPlace:'🏘️ <strong>Residencial Sendero Santa Fe</strong>',infoRSVP:'⚠️ <strong>Confirma antes del 14 de septiembre</strong>',
      partyTitle:'¡Te esperamos con!',food:'🌮 Tacos de guisado',bar:'🍸 Barra libre:',drinks:'🍻 Cervezas | 🍹 Tequila | 🥃 Ron | 🥂 Whisky',
      fun:'🎲 Juegos | 🎖️ Rifas | 💃 Baile',waze:'📍 Cómo llegar con Waze',gmaps:'📍 Cómo llegar con Google Maps',
      confirmBtn:'✅ Confirmar asistencia',liverpool:'🎁 Mesa de regalos Liverpool',amazon:'📦 Mesa de regalos Amazon',
      calendarG:'📅 Google Calendar',calendarA:'🍎 Apple Calendar',thanks:'💕 ¡Gracias por acompañarnos! 💕',
      gifFinal:'✨ ¡Será un día mágico para celebrar juntos! ✨',esEn:'🇲🇽',confirmMsg:'¡Gracias por confirmar tu asistencia! 🎉',
      joyMsg:'¡Gracias por tu alegría! 💜',loading:'Cargando invitación...',
      floatingInfoTitle:'👋 Personaliza la invitación',
      floatingInfoList:['🌙 Cambia el modo de luz, por si prefieres la invitación clarita o oscura.',
                        '🇲🇽 🇺🇸 Elige tu idioma favorito: español o inglés.',
                        '🎵 Ponle música de fondo para ambientar el momento.'],
      floatingInfoNote:'¡Haz clic en los botones de abajo a la izquierda y disfruta la experiencia como tú quieras!',
      futureMom:'La futura Mamá, Fer',
      genderRevealTitle:'¡Así vivimos el Gender Reveal! 🎉💗',
      playPause:'🎵 Toca para reproducir / pausar',
      songs:{jump:{artist:'The Outfield',title:'All The Love In The World'},
             coldplay:{artist:'Coldplay',title:'A Sky Full Of Stars'},
             bruno:{artist:'ROSÉ & Bruno Mars',title:'APT.'}}
  },
  en:{mainTitle:'🎀 Baby Shower 🎀',subTitle:'🎀 AITANA 🎀',qrBtn:'💬 Share by WhatsApp',
      listenMusic:'🎵 Click a button to play music 🎶',scroll:'Scroll down for all the details!',
      countdown:'🎈 X days left for the big day! 🎈',today:'🎉 Today is the big day! 🎉',timer:'00d : 00h : 00s',
      infoDate:'📅 <strong>Saturday, September 20</strong>',infoTime:'⏰ <strong>2:00 PM – 11:00 PM</strong>',
      infoPlace:'🏘️ <strong>Residencial Sendero Santa Fe</strong>',infoRSVP:'⚠️ <strong>Confirm before September 14</strong>',
      partyTitle:"We'll be waiting with:",food:'🌮 Guisado tacos',bar:'🍸 Open bar:',
      drinks:'🍻 Beer | 🍹 Tequila | 🥃 Rum | 🥂 Whisky',fun:'🎲 Games | 🎖️ Raffles | 💃 Dancing',
      waze:'📍 Waze Directions',gmaps:'📍 Google Maps Directions',confirmBtn:'✅ Confirm attendance',
      liverpool:'🎁 Liverpool Gift Table',amazon:'📦 Amazon Gift Table',calendarG:'📅 Google Calendar',calendarA:'🍎 Apple Calendar',
      thanks:'💕 Thank you for joining us! 💕',gifFinal:"✨ It'll be a magical day to celebrate together! ✨",
      esEn:'🇺🇸',confirmMsg:'Thanks for confirming! 🎉',joyMsg:'Thanks for your joy! 💜',loading:'Loading invitation...',
      floatingInfoTitle:'👋 Customize the invitation',
      floatingInfoList:['🌙 Change the light mode if you prefer the invitation in light or dark style.',
                        '🇲🇽 🇺🇸 Choose your favorite language: Spanish or English.',
                        '🎵 Add background music to set the mood for the moment.'],
      floatingInfoNote:'Click the buttons at the bottom left and enjoy the experience your way!',
      futureMom:'The future mom, Fer',
      genderRevealTitle:'This is how we enjoyed the Gender Reveal! 🎉💗',
      playPause:'🎵 Tap to play / pause',
      songs:{jump:{artist:'The Outfield',title:'All The Love In The World'},
             coldplay:{artist:'Coldplay',title:'A Sky Full Of Stars'},
             bruno:{artist:'ROSÉ & Bruno Mars',title:'APT.'}}
  }
};

let lang=localStorage.getItem('lang')||'es';
function renderLanguage(){
  const t=translations[lang];
  const q=s=>document.querySelector(s), byId=id=>document.getElementById(id);
  const setText=(sel,txt)=>{const el=typeof sel==='string'?q(sel):sel; if(el&&txt!=null) el.innerText=txt};
  const setHTML=(id,html)=>{const el=byId(id); if(el&&html!=null) el.innerHTML=html};

  setText('.main-title',t.mainTitle);
  setText('.sub-title',t.subTitle);
  const langBtn=byId('lang-btn'); if(langBtn) langBtn.innerText=t.esEn||langBtn.innerText;
  const loaderText=byId('loaderText'); if(loaderText) loaderText.innerText=t.loading||loaderText.innerText;

  const qrBtn=byId('qrBtn'); if(qrBtn) qrBtn.innerText=t.qrBtn||qrBtn.innerText;
  setText('#listenMusic',t.listenMusic);

  ['jump','coldplay','bruno'].forEach(k=>{
    setText('#song-'+k, `${t.songs[k].artist} — ${t.songs[k].title}`);
    setText('#hint-'+k, t.playPause);
    const btn=document.querySelector(`.track-btn[data-key="${k}"]`);
    if(btn) btn.title=t.playPause;
  });

  const scroll=q('.scroll-indicator');
  if(scroll&&t.scroll){ scroll.innerHTML=`<span class="scroll-arrow">⬇️</span> ${t.scroll} <span class="scroll-arrow">⬇️</span>` }

  setText('#countdown',t.countdown); setText('#timer',t.timer);
  setHTML('infoDate',t.infoDate); setHTML('infoTime',t.infoTime); setHTML('infoPlace',t.infoPlace); setHTML('infoRSVP',t.infoRSVP);
  setText('#partyTitle',t.partyTitle); setText('#food',t.food); setText('#bar',t.bar); setText('#drinks',t.drinks); setText('#fun',t.fun);
  setText('#waze',t.waze); setText('#gmaps',t.gmaps); setText('#confirmar-btn',t.confirmBtn); setText('#liverpool',t.liverpool); setText('#amazon',t.amazon);
  setText('#calendarG',t.calendarG); setText('#calendarA',t.calendarA);
  setText('.typewriter',t.thanks); setText('#gifFinal',t.gifFinal);
  setText('.floating-info-title',t.floatingInfoTitle);
  const infoItems=document.querySelectorAll('.floating-info-list li');
  if(infoItems&&infoItems.length&&Array.isArray(t.floatingInfoList)){
    infoItems.forEach((li,i)=>{ if(t.floatingInfoList[i]!==undefined) li.innerHTML=t.floatingInfoList[i] });
  }
  setText('.floating-info-note',t.floatingInfoNote);
  setText('#futureMom',t.futureMom);
  setText('#genderRevealTitle',t.genderRevealTitle);
}

/* Tema / Idioma */
function toggleTheme(){
  document.body.classList.toggle('dark');
  localStorage.setItem('theme', document.body.classList.contains('dark')?'dark':'light');
  document.getElementById('theme-btn').innerText=document.body.classList.contains('dark')?'☀️':'🌙';
}
function toggleLang(){
  lang = (lang==='es'?'en':'es');
  localStorage.setItem('lang',lang);
  document.getElementById('lang-btn').innerText=translations[lang].esEn;
  renderLanguage();
}

/* Música (Volumen B) */
const audio=new Audio();
audio.preload='none';
let currentKey=null;
const playPauseBtn=document.getElementById('playPause');
const nowTitle=document.getElementById('nowTitle');
const curTime=document.getElementById('curTime');
const durTime=document.getElementById('durTime');
const progress=document.getElementById('progress');
const progressFill=document.getElementById('progressFill');
const progressKnob=document.getElementById('progressKnob');
const vbar=document.getElementById('vbar');
const vfill=document.getElementById('vfill');
const vknob=document.getElementById('vknob');
const muteBtn=document.getElementById('muteBtn');

function fmt(t){ if(!isFinite(t)) return '0:00'; const m=Math.floor(t/60), s=Math.floor(t%60); return `${m}:${s<10?'0':''}${s}` }

function setActiveBtn(key){
  document.querySelectorAll('.track-btn').forEach(b=>b.classList.remove('active'));
  const btn=document.querySelector(`.track-btn[data-key="${key}"]`); if(btn) btn.classList.add('active');
}

function loadAndPlay(key, src){
  if(currentKey!==key){
    audio.src=src; audio.play(); currentKey=key; setActiveBtn(key);
    const t=translations[lang]; nowTitle.textContent = `${t.songs[key].artist} — ${t.songs[key].title}`;
    playPauseBtn.textContent='⏸️';
  }else{
    if(audio.paused){ audio.play(); playPauseBtn.textContent='⏸️'; }
    else{ audio.pause(); playPauseBtn.textContent='▶️'; }
  }
}

document.querySelectorAll('.track-btn').forEach(btn=>{
  btn.addEventListener('click', ()=> loadAndPlay(btn.dataset.key, btn.dataset.src));
});

playPauseBtn.addEventListener('click', ()=>{
  if(!audio.src) return;
  if(audio.paused){ audio.play(); playPauseBtn.textContent='⏸️' }
  else{ audio.pause(); playPauseBtn.textContent='▶️' }
});

audio.addEventListener('timeupdate', ()=>{
  curTime.textContent=fmt(audio.currentTime);
  durTime.textContent=fmt(audio.duration||0);
  const pct = (audio.currentTime/(audio.duration||1))*100;
  progressFill.style.width=pct+'%';
  progressKnob.style.left=pct+'%';
});
audio.addEventListener('ended', ()=>{ playPauseBtn.textContent='▶️' });

/* Seek (pointer-friendly) */
function handleSeek(clientX){
  const rect=progress.getBoundingClientRect();
  let pct=(clientX-rect.left)/rect.width; pct=Math.max(0,Math.min(1,pct));
  audio.currentTime=pct*(audio.duration||0);
}
progress.addEventListener('pointerdown',e=>{
  progress.setPointerCapture(e.pointerId);
  handleSeek(e.clientX);
});
progress.addEventListener('pointermove',e=>{
  if(e.buttons===1) handleSeek(e.clientX);
});

/* Volumen (pointer-friendly) */
audio.volume=0.6;
function setVolByClientX(clientX){
  const r=vbar.getBoundingClientRect();
  let pct=(clientX-r.left)/r.width; pct=Math.max(0,Math.min(1,pct));
  audio.volume=pct;
  vfill.style.width=(pct*100)+'%';
  vknob.style.left=(pct*100)+'%';
  muteBtn.textContent = pct===0 ? '🔇' : (pct<.4 ? '🔈' : '🔊');
}
vbar.addEventListener('pointerdown',e=>{
  vbar.setPointerCapture(e.pointerId);
  setVolByClientX(e.clientX);
});
vbar.addEventListener('pointermove',e=>{
  if(e.buttons===1) setVolByClientX(e.clientX);
});
muteBtn.addEventListener('click', ()=>{
  if(audio.muted){ audio.muted=false; muteBtn.textContent='🔊' }
  else{ audio.muted=true; muteBtn.textContent='🔇' }
});

/* Botón flotante Música */
document.getElementById('music-btn').addEventListener('click', ()=>{
  if(!audio.src) return;
  if(audio.paused){ audio.play(); playPauseBtn.textContent='⏸️' } else { audio.pause(); playPauseBtn.textContent='▶️' }
});

/* Init / Loader / Tema / Lang */
document.addEventListener('DOMContentLoaded', ()=>{
  document.getElementById('theme-btn').onclick=toggleTheme;
  document.getElementById('lang-btn').onclick=toggleLang;
  document.getElementById('theme-btn').innerText=document.body.classList.contains('dark')?'☀️':'🌙';
  document.getElementById('lang-btn').innerText=translations[lang].esEn;
  renderLanguage();

  const savedTheme=localStorage.getItem('theme');
  if(!savedTheme){
    const hour=new Date().getHours();
    if(hour>=19 || hour<6){ document.body.classList.add('dark'); localStorage.setItem('theme','dark'); document.getElementById('theme-btn').innerText='☀️' }
  }

  setTimeout(()=>{ 
    document.getElementById('loader').style.display='none';
    document.getElementById('main-content').style.display='block';
    document.querySelectorAll('section').forEach(s=>s.classList.add('fade-in'));
  }, 1200);
});

/* Intersection Observer */
const sections=document.querySelectorAll('section');
const observer=new IntersectionObserver(es=>{ es.forEach(en=>{ if(en.isIntersecting) en.target.classList.add('visible') }) },{threshold:.2});
sections.forEach(s=>observer.observe(s));

/* Countdown */
const countdownEl=document.getElementById('countdown');
const timerEl=document.getElementById('timer');
const eventDate=new Date('2025-09-20T14:00:00');
function updateCountdown(){
  const now=new Date(); const diff=eventDate-now;
  if(diff<=0){ countdownEl.textContent=translations[lang].today; timerEl.textContent=translations[lang].timer; return; }
  const d=Math.floor(diff/(1000*60*60*24));
  const h=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const m=Math.floor((diff%(1000*60*60))/(1000*60));
  const s=Math.floor((diff%(1000*60))/1000);
  countdownEl.textContent=translations[lang].countdown.replace('X',d);
  timerEl.textContent=`${d}d : ${h}h : ${m}m : ${s}s`;
}
updateCountdown(); setInterval(updateCountdown,1000);

/* Confirmación */
document.getElementById('confirmar-btn').addEventListener('click', ()=>{
  setTimeout(()=>{
    for(let i=0;i<24;i++){
      const c=document.createElement('div');
      c.style.position='fixed'; c.style.left=Math.random()*100+'vw'; c.style.top='-8px';
      c.style.width=(6+Math.random()*8)+'px'; c.style.height=c.style.width; c.style.borderRadius:'2px';
      c.style.background=['#ffb6e6','#ffe8ae','#b795fc'][Math.floor(Math.random()*3)];
      c.style.opacity=.9; c.style.zIndex=9999;
      c.style.transition='transform 2s linear, opacity 2s linear';
      document.body.appendChild(c);
      requestAnimationFrame(()=>{ c.style.transform='translateY(110vh) rotate(240deg)'; c.style.opacity=0; });
      setTimeout(()=>c.remove(),2100);
    }
    alert(translations[lang].confirmMsg);
  },100);
});

/* GIF final */
document.getElementById('finalGif').addEventListener('click',()=> setTimeout(()=>alert(translations[lang].joyMsg),400));
</script>
</body>
</html>
